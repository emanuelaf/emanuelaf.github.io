<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Answering questions through data: The Workflow</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Emanuela Furfaro</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="data-an-workflow.html">The Data Workflow</a>
    </li>
    <li>
      <a href="elections2.html">Elections</a>
    </li>
    <li>
      <a href="restaurants.html">Restaurant rating</a>
    </li>
    <li>
      <a href="pred-sales.html">Predicting Sales</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data Visualisation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="age-pyramid.html">Age pyramid</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Asymptotic Theorems</li>
    <li>
      <a href="lln.html">The Law of Large numbers</a>
    </li>
    <li>
      <a href="tcl.html">The Central Limit Theorem</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/emanuelaf">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/emanuela-f/">
    <span class="fa fa-envelope-o"></span>
     
    Linkedin
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Answering questions through data: The Workflow</h1>

</div>


<p>When I perform research and I work with data, I follow a simple and natural data analysis workflow which I like to see as divided into three main phases. The three phases are quite common among all data scientists/researchers although everyone has its own version. Here is mine:</p>
<div class="figure">
<img src="data-workflow.png" />

</div>
<div id="data-preparation" class="section level3">
<h3><span style="color:#3288dd"><strong>1) Data Preparation</strong></span></h3>
<p>The first thing to do is to import your data and get it in the right shape and format. Both parts may take a fair bit of time.</p>
<div id="importing-data" class="section level4">
<h4><em>Importing data</em></h4>
<p>Importing data may be very easy, as you have the data in some file stored somewhere on your pc, as either a flat file or some specific common data format for data collectors such as STATA, SAS, etc. But the data import process may be complicated by the fact that you may have to retrive the data by connecting to a database or by accessing an API.</p>
<p>When it comes to <code>R</code> there is a number of packages useful for importing different file formats. Here is a small ist of the main ones, some of which are part of the <code>tidyverse</code> and some not:</p>
<ul>
<li><a href="https://readr.tidyverse.org/"><code>readr</code></a> for flat files</li>
<li><a href="https://readxl.tidyverse.org/"><code>readxl</code></a> for .xls and .xlsx files</li>
<li><a href="https://haven.tidyverse.org/"><code>haven</code></a> for SPSS, Stata, and SAS data</li>
<li><a href="https://github.com/r-lib/httr"><code>httr</code></a> for web APIs</li>
<li><a href="https://github.com/r-dbi/DBI"><code>DBI</code></a> for relational databases</li>
</ul>
</div>
<div id="manipulating-data" class="section level4">
<h4><em>Manipulating data</em></h4>
<p>First of all the imported data should represent individuals (i.e. statistical units) on the rows and variables (i.e. information collected on the individual, such as gender, income, etc) on the columns. So that each row is a different statistical unit and each column contains a different piece of information.</p>
<p>If the data is not organised as above, I suggest you transform it to be so.</p>
<p>Once you have imported data in the above shape, still many issues may occur. You may have to make small or large transformations to your data, from transformations regarding data formats to bigger transformations regarding, for instance the creation of new variables, or the substitution and identification of missing values.</p>
<p>Moreover, data may not be all on the same files, so you may have to deal with different tables hence make sure you can match information on such tables. Or you may have to collect specific variables from here and there and create the dataset you will be working with.</p>
<p>Note that this part may be fairly time consuming, but it is extremely important. This will be the base of your analysis and as many say “grabase in, garbage out”, so one should pay lots of attention to this part.</p>
<p>Again, when it comes to <code>R</code> there is a number of packages that may be used. I mainly use the following:</p>
<ul>
<li><a href="https://dplyr.tidyverse.org/"><code>dplyr</code></a> for creating new variables, delete rows, deal with missing data</li>
<li><a href="https://forcats.tidyverse.org/"><code>forcats</code></a> for manipulating factors</li>
<li><a href="https://stringr.tidyverse.org/"><code>stringr</code></a> for manipulating strings</li>
<li><a href="https://lubridate.tidyverse.org/"><code>lubridate</code></a> for manipulating dates</li>
<li><a href="https://tidyr.tidyverse.org/"><code>tidyr</code></a> for reshaping the dataset</li>
</ul>
</div>
</div>
<div id="data-analysis" class="section level3">
<h3><span style="color:#fa6b62"><strong>2) Data Analysis</strong></span></h3>
<p>Data Analysis is the fun part! Here is where your analytical skills come out the most.</p>
<div id="data-visualisation-and-exploration" class="section level4">
<h4><em>Data Visualisation and exploration</em></h4>
<p>First you need to understand the data by for instance printing tables and visualising it. This part is important and may go into your final report and may already answer a number of questions.</p>
<p>In <code>R</code> I mainly use the packages <a href="https://ggplot2.tidyverse.org/"><code>ggplot2</code></a>, for general data visualisation and <a href="https://github.com/dkahle/ggmap"><code>ggmap</code></a> for plotting maps.</p>
</div>
<div id="modelling" class="section level4">
<h4><em>Modelling</em></h4>
<p>Once data has been vizualized and understood, it is time to model the data in order to complete your analysis and answer more complicated questions that involve the interaction between more variables. The model may be simple comparison between the means of two or more groups or may be more sophisticated model.</p>
<p>According to which model I am applying, I may use different packages. It is hard to give a list of the main ones because the models’ universe is very very variagate!</p>
</div>
</div>
<div id="reporting-and-communicating" class="section level3">
<h3><span style="color:#6fa06a"><strong>3) Reporting and Communicating</strong></span></h3>
<p>Once you have finished the analysis you need to communicate what you have learned, to others in order to answer a research question. You may do so by builind a static or an interactive report, according to your needs. It is important to include plots and also explanation of what has been done.</p>
<p>I like to create reports straight from <code>R</code>, that allows to include code in between text. For static reports, I use <a href="https://rmarkdown.tidyverse.org/"><code>Rmarkdown</code></a> package for both slides and reports, html outputs and pdf outputs; while for interactive reports, I use <a href="https://shiny.rstudio.com/"><code>Shiny</code></a>package.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
